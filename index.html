
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ë¬­â¤ï¸í›ˆ ë‹¤ë‚­ ì—¬í–‰ ì™„ë²½ ê°€ì´ë“œ</title>
    <style>
        :root { 
            --primary: #3F51B5; 
            --accent: #FF7043; 
            --card-bg: rgba(255, 255, 255, 0.92);
            --text: #222; 
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Pretendard', -apple-system, sans-serif; }
        
        body { 
            margin: 0; padding: 0; 
            background: url('http://googleusercontent.com/image_collection/image_retrieval/6157223273925369578_0') no-repeat center center fixed;
            background-size: cover;
            color: var(--text); 
            padding-bottom: 80px; 
            min-height: 100vh;
        }
        
        /* ìƒë‹¨ ê³ ì • í—¤ë” ë° íƒ­ */
        .header-container {
            position: sticky; top: 0; z-index: 100;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }
        .header { padding: 15px; text-align: center; font-size: 18px; font-weight: 800; color: var(--primary); }
        
        .tabs { display: flex; border-top: 1px solid rgba(0,0,0,0.05); }
        .tab { flex: 1; padding: 12px; text-align: center; font-size: 14px; font-weight: bold; color: #666; cursor: pointer; }
        .tab.active { color: var(--primary); border-bottom: 3px solid var(--primary); }

        .tab-content { display: none; padding-top: 10px; }
        .tab-content.active { display: block; }

        /* ë‚ ì”¨ ì¹´ë“œ */
        .weather-card { 
            background: linear-gradient(135deg, rgba(63, 81, 181, 0.85) 0%, rgba(48, 63, 159, 0.85) 100%); 
            color: white; border-radius: 20px; padding: 20px; margin: 15px; 
            box-shadow: 0 8px 32px rgba(0,0,0,0.25);
            border: 1px solid rgba(255,255,255,0.2);
        }
        .w-horizontal { 
            display: flex; justify-content: space-between; align-items: center; 
            margin-top: 20px; background: rgba(255,255,255,0.15); 
            padding: 15px 10px; border-radius: 15px; font-size: 11px; text-align: center;
        }
        .w-item { flex: 1; border-right: 1px solid rgba(255,255,255,0.2); }
        .w-item:last-child { border-right: none; }
        .w-val { display: block; font-weight: bold; font-size: 13px; }

        /* ì•„ì½”ë””ì–¸ ìŠ¤íƒ€ì¼ */
        details {
            background: var(--card-bg); margin: 12px 15px; border-radius: 18px;
            overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            border: 1px solid rgba(255,255,255,0.3);
        }
        summary {
            padding: 16px 20px; font-weight: 700; font-size: 15px; color: var(--primary);
            cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center;
        }
        summary::after { content: '+'; font-size: 20px; transition: transform 0.3s; }
        details[open] summary::after { transform: rotate(45deg); }
        .content-inner { padding: 0 15px 15px 15px; }
        
        .info-box { background: #F3F5FF; padding: 14px; border-radius: 12px; font-size: 13px; line-height: 1.8; border: 1px solid #E0E4F5; margin-bottom: 10px; }
        .badge { display: inline-block; padding: 3px 8px; border-radius: 5px; font-size: 11px; font-weight: bold; margin-bottom: 6px; color: white; }

        /* íšŒí™” & TTS ë²„íŠ¼ */
        .phrase-row { display: flex; justify-content: space-between; align-items: center; padding: 12px; background: #FFF; border-radius: 10px; border: 1px solid #F0F0F0; margin-bottom: 8px; }
        .tts-btn { border: none; background: #E8EAF6; border-radius: 50%; width: 36px; height: 36px; cursor: pointer; }

        .calc-input { width: 100%; height: 50px; border-radius: 12px; border: 1px solid #DDD; padding: 0 15px; font-size: 20px; margin-bottom: 12px; font-weight: bold; text-align: center; }
        .btn-group { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
        .btn-add { height: 45px; border: 1.2px solid #3F51B5; background: white; color: #3F51B5; border-radius: 10px; font-weight: bold; font-size: 13px; }
        .map-container { margin: 15px; border-radius: 20px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.2); border: 2px solid white; }
    </style>
</head>
<body>

    <div class="header-container">
        <div class="header">ë¬­â¤ï¸í›ˆ ë‹¤ë‚­ ì—¬í–‰ ì™„ë²½ ê°€ì´ë“œ</div>
        <div class="tabs">
            <div class="tab active" onclick="openTab('info', this)">â„¹ï¸ ì •ë³´</div>
            <div class="tab" onclick="openTab('schedule', this)">ğŸ“… ìŠ¤ì¼€ì¤„</div>
        </div>
    </div>

    <div id="info" class="tab-content active">
        <div class="weather-card">
            <div style="font-size:14px; font-weight:bold; margin-bottom:10px;">ğŸ“ <span id="loc-text">ìœ„ì¹˜ ë¶„ì„ ì¤‘...</span></div>
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <div id="w-icon" style="font-size:60px;">âŒ›</div>
                <div style="text-align:right;">
                    <div id="w-temp" style="font-size:50px; font-weight:900;">--Â°</div>
                    <div id="w-desc" style="font-size:18px; font-weight:bold;">ë°ì´í„° í™•ì¸ ì¤‘</div>
                </div>
            </div>
            <div class="w-horizontal">
                <div class="w-item"><span class="w-label">ğŸ’¨ ë°”ëŒ</span><span id="w-wind" class="w-val">--m/s</span></div>
                <div class="w-item"><span class="w-label">ğŸ’§ ìŠµë„</span><span id="w-hum" class="w-val">--%</span></div>
                <div class="w-item"><span class="w-label">â˜” ë¹„ í™•ë¥ </span><span id="w-rain" class="w-val">--%</span></div>
                <div class="w-item"><span class="w-label">ğŸŒ¡ï¸ ì²´ê°</span><span id="w-app" class="w-val">--Â°C</span></div>
            </div>
        </div>

        <details class="travel-details"><summary>âœˆï¸ í•­ê³µ ì˜ˆì•½ ìƒì„¸</summary><div class="content-inner">
            <div class="info-box">
                <span class="badge" style="background:#E53935;">ì¶œêµ­ | í‹°ì›¨ì´ TW007</span><br>
                <b>í„°ë¯¸ë„:</b> ì¸ì²œê³µí•­ ì œ1ì—¬ê°í„°ë¯¸ë„<br>
                <b>ì‹œê°„:</b> 2026.01.13(í™”) 07:45 ì¶œë°œ â†’ 10:35 ë‹¤ë‚­ ë„ì°©<br>
                <b>ì˜ˆì•½ë²ˆí˜¸:</b> <span style="color:#D32F2F; font-weight:bold;">FX4MV3</span><br>
                <b>ìˆ˜í•˜ë¬¼:</b> ìœ„íƒ 15kg / ê¸°ë‚´ 10kg (í•©ê³„ 1ì¸ë‹¹)<br>
                <b>ì²´í¬ì¸:</b> ì¶œë°œ 3ì‹œê°„ ì „ ê¶Œì¥ (04:45)
            </div>
            <div class="info-box">
                <span class="badge" style="background:#FF7043;">ê·€êµ­ | ë¹„ì—£ì ¯ VJ874</span><br>
                <b>ì‹œê°„:</b> 2026.01.17(í† ) 15:10 ë‹¤ë‚­ ì¶œë°œ â†’ 22:15 ì¸ì²œ ë„ì°©<br>
                <b>ì˜ˆì•½ë²ˆí˜¸:</b> <span style="color:#D32F2F; font-weight:bold;">7GJ8NY</span><br>
                <b>ìˆ˜í•˜ë¬¼:</b> <span style="color:red;">ìœ„íƒ ìˆ˜í•˜ë¬¼ ì—†ìŒ(ìœ ë£Œ)</span> / ê¸°ë‚´ 7kg<br>
                <b>ì°¸ê³ :</b> ë¹„ì—£ì ¯ í•­ê³µì€ ê¸°ë‚´ ìƒìˆ˜ ë° ë‹´ìš”ê°€ ìœ ë£Œì…ë‹ˆë‹¤.
            </div>
        </div></details>

        <details class="travel-details"><summary>ğŸ¨ ìˆ™ì†Œ ì˜ˆì•½ ìƒì„¸</summary><div class="content-inner">
            <div class="info-box">
                <span class="badge" style="background:#3F51B5;">ë©œë¦¬ì•„ ë¹ˆí„ ë‹¤ë‚­ ë¦¬ë²„í”„ë¡ íŠ¸</span><br>
                <b>ì£¼ì†Œ:</b> 341 Tran Hung Dao, An Hai Bac, Son Tra, Da Nang<br>
                <b>ì˜ˆì•½ë²ˆí˜¸:</b> 4575465<br>
                <b>ê°ì‹¤:</b> ìŠ¤ëª° ìŠ¤ìœ„íŠ¸ ë¦¬ë²„ë·° (í‚¹ë² ë“œ 1ê°œ)<br>
                <b>ê¸°ê°„:</b> 2026.01.13 ~ 01.17 (4ë°•)<br>
                <b>í˜œíƒ:</b> ì„±ì¸ 2ì¸ ì¡°ì‹ í¬í•¨ / ì•¼ì™¸ ìˆ˜ì˜ì¥ ë° Gym ë¬´ë£Œ ì´ìš©<br>
                <b>ì²´í¬ì¸:</b> 14:00 / <b>ì²´í¬ì•„ì›ƒ:</b> 12:00
            </div>
        </div></details>

        <details class="travel-details"><summary>ğŸ›¡ï¸ ì—¬í–‰ì ë³´í—˜ ìƒì„¸</summary><div class="content-inner">
            <div class="info-box">
                <span class="badge" style="background:#4CAF50;">í”¼ë³´í—˜ì: ì›ë¯¸ì˜</span><br>
                <b>ì¢…ëª©:</b> í•´ì™¸ì—¬í–‰ë³´í—˜ (Deluxe)<br>
                <b>ì¦ê¶Œë²ˆí˜¸:</b> 251214786059<br>
                <b>ê¸°ê°„:</b> 2026.01.13 00:00 ~ 01.17 23:59 (5ì¼)<br>
                <b>ê³„ì•½ì:</b> CTRIP.COM, HONG KONG
            </div>
            <div class="info-box">
                <span class="badge" style="background:#2196F3;">í”¼ë³´í—˜ì: í‘œìƒí›ˆ</span><br>
                <b>ì¢…ëª©:</b> í•´ì™¸ì—¬í–‰ë³´í—˜ (Deluxe)<br>
                <b>ì¦ê¶Œë²ˆí˜¸:</b> 251214786052<br>
                <b>ê¸°ê°„:</b> 2026.01.13 00:00 ~ 01.17 23:59 (5ì¼)<br>
                <b>ê³„ì•½ì:</b> CTRIP.COM, HONG KONG
            </div>
        </div></details>

        <details class="travel-details"><summary>ğŸ“ ì£¼ìš” ì„œë¥˜ ë³´ê´€í•¨</summary><div class="content-inner">
            <input type="file" id="doc-upload" style="display:none" onchange="processFiles(this.files)" accept="image/*, .pdf">
            <button onclick="document.getElementById('doc-upload').click()" style="width:100%; height:45px; border:2px dashed #3F51B5; background:none; color:#3F51B5; font-weight:bold; border-radius:12px; cursor:pointer; margin-bottom:10px;">+ ì„œë¥˜ ì¶”ê°€ (ì´ë¯¸ì§€/PDF)</button>
            <div id="file-list-container"></div>
        </div></details>

        <details class="travel-details"><summary>ğŸ—£ï¸ ìƒí™©ë³„ í•„ìˆ˜ íšŒí™”</summary><div class="content-inner">
            <div class="phrase-row"><span>ì•ˆë…•í•˜ì„¸ìš” - Xin chÃ o (ì”¬ ì§œì˜¤)</span><button class="tts-btn" onclick="play('Xin chÃ o')">ğŸ”Š</button></div>
            <div class="phrase-row"><span>ê°ì‚¬í•©ë‹ˆë‹¤ - Cáº£m Æ¡n (ê¹œ ì–¸)</span><button class="tts-btn" onclick="play('Cáº£m Æ¡n')">ğŸ”Š</button></div>
            <div class="phrase-row"><span>ì–¼ë§ˆì—ìš”? - Bao nhiÃªu tiá»n? (ë°”ì˜¤ ë‹ˆìš° ë ì—”?)</span><button class="tts-btn" onclick="play('Bao nhiÃªu tiá»n')">ğŸ”Š</button></div>
            <div class="phrase-row"><span>ê³ ìˆ˜ ë¹¼ì£¼ì„¸ìš” - Äá»«ng cho rau thÆ¡m (ë“± ìª¼ ë¼ìš° í…€)</span><button class="tts-btn" onclick="play('Äá»«ng cho rau thÆ¡m')">ğŸ”Š</button></div>
            <div class="phrase-row"><span>ê¹ì•„ì£¼ì„¸ìš” - Giáº£m giÃ¡ Ä‘i (ì  ì ë””)</span><button class="tts-btn" onclick="play('Giáº£m giÃ¡ Ä‘i')">ğŸ”Š</button></div>
            <div class="phrase-row"><span>ê³„ì‚°ì„œ ì£¼ì„¸ìš” - TÃ­nh tiá»n (ë¤ ë ì—”)</span><button class="tts-btn" onclick="play('TÃ­nh tiá»n')">ğŸ”Š</button></div>
        </div></details>

        <details class="travel-details"><summary>ğŸ’° í™˜ìœ¨ê³„ì‚°ê¸°</summary><div class="content-inner">
            <div style="font-size:12px; color:var(--primary); text-align:center; margin-bottom:10px; font-weight:bold;">ê¸°ì¤€: 1,000ë™ = 55ì›</div>
            <input type="text" id="vnd-val" class="calc-input" oninput="manualInput(this.value)" placeholder="VND ì…ë ¥">
            <div class="btn-group">
                <button class="btn-add" onclick="sumVnd(1000)">+1ì²œ</button>
                <button class="btn-add" onclick="sumVnd(10000)">+1ë§Œ</button>
                <button class="btn-add" onclick="sumVnd(100000)">+10ë§Œ</button>
                <button class="btn-add" style="color:red; border-color:red;" onclick="resetVnd()">AC</button>
            </div>
            <div id="krw-res" style="margin-top:15px; text-align:right; font-size:22px; font-weight:900; color:#D32F2F;">0 ì›</div>
        </div></details>
    </div>

    <div id="schedule" class="tab-content">
        <div class="map-container">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d122691.61996131463!2d108.1714617!3d16.0544068!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x314219c792252a13%3A0xfc14e3a30d050605!2z67Kg7Yq464KoIOuLpOuCqQ!5e0!3m2!1sko!2skr!4v1710000000000" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
        </div>
        <details class="schedule-details"><summary>ğŸ—“ï¸ 1ì¼ì°¨: ë‹¤ë‚­ ë„ì°© ë° ì‹œë‚´ íƒë°©</summary><div class="content-inner">
            <div class="info-box">
                <b>10:35</b> ë‹¤ë‚­ êµ­ì œê³µí•­ ë„ì°© ë° ì…êµ­ ì‹¬ì‚¬<br>
                <b>12:00</b> í™˜ì „ ë° ìœ ì‹¬ êµ¬ë§¤ í›„ ì ì‹¬ (ëƒë²± ë“± í˜„ì§€ì‹)<br>
                <b>14:00</b> ë©œë¦¬ì•„ ë¹ˆí„ ë¦¬ë²„í”„ë¡ íŠ¸ ì²´í¬ì¸ ë° ì§ í’€ê¸°<br>
                <b>16:00</b> ë¯¸ì¼€ë¹„ì¹˜ ì‚°ì±… ë° ì¹´í˜ íƒ€ì„<br>
                <b>19:00</b> ìš©ë‹¤ë¦¬ ì•¼ê²½ ê°ìƒ ë° ì €ë… ì‹ì‚¬ (í•´ì‚°ë¬¼)
            </div>
        </div></details>
        <details class="schedule-details"><summary>ğŸ—“ï¸ 2ì¼ì°¨: ë¬¸í™”ì™€ íë§ íˆ¬ì–´</summary><div class="content-inner">
            <div class="info-box">
                <b>09:00</b> í˜¸í…” ì¡°ì‹ í›„ ì˜¤í–‰ì‚°(ë§ˆë¸” ë§ˆìš´í‹´) ì´ë™<br>
                <b>12:00</b> ì ì‹¬ (ë°˜ë¯¸/ìŒ€êµ­ìˆ˜ ë§›ì§‘ íˆ¬ì–´)<br>
                <b>14:00</b> ì†ì§œ ë°˜ë„ ë§ì—„ì‚¬(ì˜ì‘ì‚¬) ê±°ëŒ€ í•´ìˆ˜ê´€ìŒìƒ<br>
                <b>16:30</b> í•œì‹œì¥ ì‡¼í•‘ (ì•„ì˜¤ìì´, ê¸°ë…í’ˆ)<br>
                <b>19:00</b> ìŠ¤íŒŒ ë° ì „ì‹  ë§ˆì‚¬ì§€ë¡œ í”¼ë¡œ í’€ê¸°
            </div>
        </div></details>
        <details class="schedule-details"><summary>ğŸ—“ï¸ 3ì¼ì°¨: ë°”ë‚˜í ì–´ë“œë²¤ì²˜</summary><div class="content-inner">
            <div class="info-box">
                <b>08:30</b> í˜¸í…” ì¡°ì‹ í›„ ë°”ë‚˜íë¡œ ì´ë™ (í”„ë¼ì´ë¹— ì°¨ëŸ‰)<br>
                <b>10:00</b> ì„¸ê³„ ìµœì¥ ì¼€ì´ë¸”ì¹´ íƒ‘ìŠ¹ â†’ ê³¨ë“ ë¸Œë¦¿ì§€ ì‚¬ì§„ ì´¬ì˜<br>
                <b>12:00</b> í”„ë‘ìŠ¤ ë¹Œë¦¬ì§€ ê´€ëŒ ë° ë·”í˜ ì ì‹¬<br>
                <b>14:00</b> í…Œë§ˆíŒŒí¬ ì–´íŠ¸ë™ì…˜ ë° ë£¨ì§€ ì²´í—˜<br>
                <b>18:00</b> ì‹œë‚´ ë³µê·€ í›„ ì €ë… (ìŠ¤í…Œì´í¬ ë˜ëŠ” í•œì‹)
            </div>
        </div></details>
        <details class="schedule-details"><summary>ğŸ—“ï¸ 4ì¼ì°¨: í˜¸ì´ì•ˆ ì˜¬ë“œíƒ€ìš´ ê°ì„±</summary><div class="content-inner">
            <div class="info-box">
                <b>10:00</b> í˜¸í…” ì²´í¬ì•„ì›ƒ ì¤€ë¹„ ë° ì§ ë³´ê´€<br>
                <b>13:00</b> í˜¸ì´ì•ˆ ì´ë™ ë° ë°”êµ¬ë‹ˆ ë°°(ì½”ì½”ë„› ë°°) ì²´í—˜<br>
                <b>16:00</b> í˜¸ì´ì•ˆ ì˜¬ë“œíƒ€ìš´ ë„ë³´ ê´€ê´‘ ë° ë…¸ë€ë²½ ì‚¬ì§„ ì´¬ì˜<br>
                <b>18:30</b> íˆ¬ë³¸ê°• ì†Œì›ë°° ë„ìš°ê¸° ë° ì•¼ì‹œì¥ êµ¬ê²½<br>
                <b>20:30</b> í˜¸ì´ì•ˆ ì¹´í˜ ê°ìƒ í›„ ë‹¤ë‚­ ë³µê·€
            </div>
        </div></details>
        <details class="schedule-details"><summary>ğŸ—“ï¸ 5ì¼ì°¨: ì—¬ìœ ë¡œìš´ ë§ˆë¬´ë¦¬ ë° ì¶œêµ­</summary><div class="content-inner">
            <div class="info-box">
                <b>09:00</b> í˜¸í…” ì¡°ì‹ í›„ ë§ˆì§€ë§‰ ìˆ˜ì˜ ë˜ëŠ” ìŠ¤íŒŒ<br>
                <b>11:00</b> ë‹¤ë‚­ í•‘í¬ì„±ë‹¹ ë° ê¸°ë…í’ˆ ìµœì¢… êµ¬ë§¤<br>
                <b>12:30</b> ë¡¯ë°ë§ˆíŠ¸ ë°©ë¬¸ (ì»¤í”¼, ê°„ì‹ ë“± ì„ ë¬¼ ì‡¼í•‘)<br>
                <b>13:30</b> ë§ˆì§€ë§‰ ë§Œì°¬ í›„ ë‹¤ë‚­ ê³µí•­ ì´ë™<br>
                <b>15:10</b> ë¹„ì—£ì ¯ VJ874 ì¸ì²œí–‰ íƒ‘ìŠ¹
            </div>
        </div></details>
    </div>

    <script>
        function openTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            el.classList.add('active');
        }

        // ì„¸ì…˜ ìë™ ë‹«í˜ (ì •ë³´ & ìŠ¤ì¼€ì¤„ ëª¨ë‘ ì ìš©)
        function setupAccordion(selector) {
            const elements = document.querySelectorAll(selector);
            elements.forEach((target) => {
                target.addEventListener('click', () => {
                    elements.forEach((el) => { if (el !== target) el.removeAttribute('open'); });
                });
            });
        }
        setupAccordion('.travel-details');
        setupAccordion('.schedule-details');

        // ë‚ ì”¨ ì—…ë°ì´íŠ¸ ë° ì§€ì—­ëª… í‘œì‹œ
        async function updateWeather() {
            if (!navigator.geolocation) return;
            navigator.geolocation.getCurrentPosition(async (pos) => {
                const { latitude: lat, longitude: lon } = pos.coords;
                try {
                    // Nominatim APIë¥¼ í†µí•œ ì§€ì—­ëª… ë³€í™˜
                    const geo = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);
                    const gData = await geo.json();
                    const region = gData.address.city || gData.address.town || gData.address.village || "í˜„ìœ„ì¹˜";
                    document.getElementById('loc-text').innerText = region;

                    const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m&hourly=precipitation_probability&timezone=auto`);
                    const d = await res.json();
                    document.getElementById('w-temp').innerText = Math.round(d.current.temperature_2m) + "Â°";
                    document.getElementById('w-app').innerText = Math.round(d.current.apparent_temperature) + "Â°C";
                    document.getElementById('w-hum').innerText = d.current.relative_humidity_2m + "%";
                    document.getElementById('w-wind').innerText = (d.current.wind_speed_10m/3.6).toFixed(1) + "m/s";
                    document.getElementById('w-rain').innerText = d.hourly.precipitation_probability[0] + "%";
                    document.getElementById('w-desc').innerText = d.current.weather_code <= 3 ? "ë§‘ìŒ/êµ¬ë¦„" : "íë¦¼/ë¹„";
                    document.getElementById('w-icon').innerText = d.current.weather_code <= 1 ? "â˜€ï¸" : "â˜ï¸";
                } catch(e) {}
            });
        }

        // í™˜ìœ¨ ë° íŒŒì¼ ë¡œì§ (ë™ì¼ ìœ ì§€)
        let currentVnd = 0;
        function sumVnd(val) { currentVnd += val; updateCalc(); }
        function manualInput(val) { currentVnd = Number(val.replace(/,/g, '')) || 0; updateCalc(); }
        function resetVnd() { currentVnd = 0; updateCalc(); }
        function updateCalc() {
            document.getElementById('vnd-val').value = currentVnd.toLocaleString();
            document.getElementById('krw-res').innerText = Math.round((currentVnd/1000)*55).toLocaleString() + " ì›";
        }

        function play(t) {
            const m = new SpeechSynthesisUtterance(t);
            m.lang = 'vi-VN';
            window.speechSynthesis.speak(m);
        }

        let fileStorage = [];
        function processFiles(list) {
            for(let f of list) {
                fileStorage.push({ id: Date.now() + Math.random(), name: f.name, url: URL.createObjectURL(f) });
            }
            renderFiles();
        }
        function renderFiles() {
            const div = document.getElementById('file-list-container');
            div.innerHTML = fileStorage.map(f => `
                <div class="file-item">
                    <span class="file-link" style="color:var(--primary);cursor:pointer;font-weight:bold" onclick="window.open('${f.url}')">ğŸ“„ ${f.name}</span>
                    <span style="color:red;cursor:pointer;font-size:12px;" onclick="removeFile(${f.id})">ì‚­ì œ</span>
                </div>
            `).join('');
        }
        function removeFile(id) { fileStorage = fileStorage.filter(f => f.id !== id); renderFiles(); }

        window.onload = updateWeather;
    </script>
</body>
</html>
